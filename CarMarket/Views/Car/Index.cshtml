@model List<Car>
<body id="carIndex">
    <div class="row">
        @foreach (var car in Model)
        {
            <form class="form-inline my-2 my-lg-0" style="position: absolute; right: 60%; top: 1%;">
                <input name="=" searchString" type="text" class="form-control" placeholder="Search for a car..." />
                <button id="search-text" class="btn btn-success my-2 my-sm-0" type="submit"><i class="bi bi-search"></i></button>
            </form>

            <div class="col-md-4 col-xs-6 border-primary mb-3">
                <div class="card mb-3" style="max-width: 540px;">
                    <div class="row g-0">
                        <div class="col-md-12">
                            <div class="card-header text-white bg-info">
                                <p class="card-text">
                                    <h5 class="card-title">
                                        @car.Brand @car.Model
                                        <a class="text-white float-right" onclick="getCar('@car.Id')"><i class="bi bi-pencil-square"></i></a>
                                    </h5>
                                </p>
                            </div>`
                        </div>
                        <div class="col-md-6">
                            <img src="@car.Picture" width="115%" height="100%" alt="@car.Picture">
                        </div>
                        <div class="col-md-6">
                            <div class="card-body">
                                <p class="card-text"><b>Engine: </b>@car.Engine <i>cc</i></p>
                                <p class="card-text"><b>Fuel: </b>@car.Fuel</p>
                                <p class="card-text"><b>Horse Power: </b>@car.HorsePower <i>hp</i></p>
                                <p class="card-text"><b>Manufacture Date: </b><br />@car.ManufactureDate.ToShortDateString()</p>
                                <p class="card-text "><b>Status: </b><span class="badge bg-success text-white">AVAILABLE</span></p>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="card-footer ">
                                <p class="card-text">
                                    <a class="btn btn-outline-primary float-right" asp-action="Details" asp-route-id="@car.Id">
                                        <i class="bi bi-eye-fill"></i> Show Details
                                    </a>
                                    <a class="btn btn-success text-white" style="background-color: forestgreen;">
                                        Price: @car.SalePrice.ToString("c")
                                    </a>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>

    <div style="position: absolute; right: 50%; top: 1%;" class="text-white">
        <a asp-controller="Car" asp-action="AddCar" class="btn btn-success">
            <i class="bi bi-plus-circle"></i> Add New Car
        </a>
    </div>




    <button class="open-button" onclick="openForm()">Chat</button>
    <div class="container" id="chatWindow">
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <span class="glyphicon glyphicon-comment"></span> Chat
                    </div>
                    <div class="panel-body">
                        <ul class="chat" id="chat"></ul>
                    </div>
                    <div class="panel-footer">
                        <div class="input-group">
                            <input id="btn-input" class="form-control input-sm" placeholder="Type your message here..." type="text">
                            <span class="input-group-btn">
                                <button class="btn btn-warning btn-sm" id="btn-chat">
                                    Send
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <script type="text/javascript">
        function openForm() {
            document.getElementById("chatWindow").style.display = "block";
        }

        function closeForm() {
            document.getElementById("chatWindow").style.display = "none";
        }
    </script>



</body>






<script type="text/javascript">
    function openForm() {
        document.getElementById("myForm").style.display = "block";
    }

    function closeForm() {
        document.getElementById("myForm").style.display = "none";
    }
</script>





<script>
    const getCar = (id) => {
        window.location = `/Car/GetCar/${id}`
    }
</script>
